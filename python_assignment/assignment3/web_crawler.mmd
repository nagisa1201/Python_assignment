graph TD
    A["程序启动"] --> B["初始化配置<br/>URL/请求头/保存目录"]
    B --> C["创建netbian_wallpapers文件夹"]
    C --> D["向网站发送请求→GBK编码解析"]
    
    %% 筛选循环
    D --> E
    E --> F{"有效链接≥10？"}
    F -->|否| E["(继续)筛选有效图片链接"]
    F -->|是| G["获取10张有效链接"]
    
    %% 下载循环
    G --> H["循环下载每张图片（序号递增）"]
    H --> I{"下载成功？"}
    I -->|是| J["保存新图片"]
    I -->|否| K["打印失败并跳过"]
    J & K --> L{"所有10张处理完？"}
    L -->|否| H["继续下载下一张"]
    L -->|是| M["输出下载总数+保存路径"]
    M --> N["程序结束"]