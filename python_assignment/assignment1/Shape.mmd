graph TD
    A["程序启动"] --> B["中文显示+画布+坐标轴配置"]
    B --> C["显示菜单选项"]
    C --> D["输入选择(1/2/3/其他)"]
    D --> E{"选择分支？"}
    
    %% 绘制长方形分支
    E -->|1| F["输入长方形参数(x/y/宽/高)"]
    F --> G{"参数验证通过？"}
    G -->|否| H["打印：参数错误/超出范围"]
    H --> C
    G -->|是| I["创建Rect实例"]
    I --> J["调用draw()→触发Rect.draw()"]
    J --> K["绘制长方形：创建图形+添加到画布"]
    K --> L["打印：长方形已绘制"]
    L --> C
    
    %% 绘制圆形分支
    E -->|2| M["输入圆形参数(x/y/半径)"]
    M --> N{"参数验证通过？"}
    N -->|否| O["打印：参数错误/超出范围"]
    O --> C
    N -->|是| P["创建Circle实例"]
    P --> Q["调用draw()→触发Circle.draw()"]
    Q --> R["绘制圆形：创建图形+添加到画布"]
    R --> S["打印：圆形已绘制"]
    S --> C
    
    %% 退出分支
    E -->|3| T["打印：退出，显示图形"]
    T --> U["显示最终图形(plt.show())"]
    U --> V["程序结束"]
    
    %% 无效选择分支
    E -->|其他| W["打印：无效选择，输入1/2/3"]
    W --> C